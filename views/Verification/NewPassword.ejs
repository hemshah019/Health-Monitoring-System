<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Set New Password</title>
  <link rel="stylesheet" href="/CSS/Verification_CSS/NewPassword.css"/>
</head>
<body>
  <div class="header">
    <div style="display: flex; align-items: center;">
      <img src="/image/logo.png" alt="Health Monitoring System Logo" class="logo" />
      <h2>Health Monitoring System</h2>
    </div>
    <a href="/register" class="create-account">Create an account</a>
  </div>

  <div class="container">
    <img src="/image/NewPassword.png" alt="NewPassword Image" class="icon-image" />
    <h2>Set New Password</h2>
    <p>Your new password must be different from previous used passwords.</p>
    <form action="/update-password" method="post">
      <input type="hidden" name="email" value="<%= email %>" />

      <label for="password">Password</label>
      <div style="position: relative;">
        <input type="password" id="password" name="password" placeholder="Enter your new password" required />
        <span class="toggle-password" onclick="togglePassword('password', this)">
          <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 24 24" width="20" fill="#888">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M12 4.5c-4.67 0-8.64 3.18-10 7.5 1.36 4.32 5.33 7.5 10 7.5s8.64-3.18 10-7.5c-1.36-4.32-5.33-7.5-10-7.5zm0 13c-3.03 0-5.5-2.47-5.5-5.5S8.97 6.5 12 6.5s5.5 2.47 5.5 5.5S15.03 17.5 12 17.5zm0-9c-1.93 0-3.5 1.57-3.5 3.5S10.07 15.5 12 15.5s3.5-1.57 3.5-3.5S13.93 8.5 12 8.5z"/>
          </svg>
        </span>
      </div>

      <div id="password-requirements-inline">
        <div class="inline-reqs">
          <span id="length" class="invalid">8+ chars</span>
          <span id="letter" class="invalid">letter</span>
          <span id="number" class="invalid">number</span>
          <span id="special" class="invalid">special char</span>
        </div>
      </div>

      <label for="confirmPassword">Confirm Password</label>
      <div style="position: relative;">
        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm your new password" required />
        <span class="toggle-password" onclick="togglePassword('confirmPassword', this)">
          <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 24 24" width="20" fill="#888">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M12 4.5c-4.67 0-8.64 3.18-10 7.5 1.36 4.32 5.33 7.5 10 7.5s8.64-3.18 10-7.5c-1.36-4.32-5.33-7.5-10-7.5zm0 13c-3.03 0-5.5-2.47-5.5-5.5S8.97 6.5 12 6.5s5.5 2.47 5.5 5.5S15.03 17.5 12 17.5zm0-9c-1.93 0-3.5 1.57-3.5 3.5S10.07 15.5 12 15.5s3.5-1.57 3.5-3.5S13.93 8.5 12 8.5z"/>
          </svg>
        </span>
      </div>

      <button type="submit" class="btn" id="submit-btn">Reset Password</button>
    </form>

    <a href="/" class="back-link">‚Üê Back to sign in</a>

    <div class="progress-bar">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar active"></div>
    </div>
  </div>
  <script src="/Js/Verification_JS/NewPassword.js"></script>
</body>
</html>
